---
title: mvc在android中的使用
date: 2018-02-10 13:50:25
tags: 架构
---

以往只知mvc不知mvc所以然，今天来梳理一遍。

m：即是model层，一般惯性是在model层做一些逻辑处理操作，比如说数据库存储、网络操作、复杂的算法操作、耗时任务等等

v：即是view层，xml的布局就是android的view层，view层主要是显示model的结果

c：即是controller层，例如在android中，fragment/activity可以操作view，与用户进行交流，用于显示model的结果，所以fragment/activity就是controller层

光知道以上的还没用，需要了解一下为什么要分层。

举个例子，现在有一个功能，是进行网络请求，我们知道，网络请求可以使用okhttp，可以使用volley，可以使用retrofit，但是假如我们直接构造一个getHttp()的方法，嵌入到activity里面，就会产生后续难以维护，假如将okhttp改成volley的话，就需要更改这个功能，由于接口的不同，会导致一系列难以想象的问题发生。

因此我们可以定义一个interface，这个interface就是用于进行网络请求，里面只有2个功能，一个是请求，一个是返回结果。

然后我们实现这个interface，实现完了，将这个interface作为一个model插入到activity里面，这样后续需要进行更改，使用别的框架的时候，可以直接更改这个impl，毕竟只需要两个接口的功能完全，也方便测试，同时插拔也十分方便。

MVC的优点：

(1)耦合性低。所谓耦合性就是模块代码之间的关联程度。利用MVC框架使得View（视图）层和Model（模型）层可以很好的分离，这样就达到了解耦的目的，所以耦合性低，减少模块代码之间的相互影响。

(2)可扩展性好。由于耦合性低，添加需求，扩展代码就可以减少修改之前的代码，降低bug的出现率。

(3)模块职责划分明确。主要划分层M,V,C三个模块，利于代码的维护。